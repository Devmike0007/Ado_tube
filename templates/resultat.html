<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <title>T√©l√©chargement automatique</title>
    <style>
        body {
            background-color: #ffffff;
            color: #000000;
            font-family: Arial, sans-serif;
            text-align: center;
            padding-top: 80px;
        }

        h2 {
            color: #E11B22;
            font-size: 28px;
            margin-bottom: 20px;
        }

        p {
            font-size: 18px;
        }

        a {
            color: #E11B22;
            text-decoration: none;
            font-weight: bold;
        }

        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h2>üì• T√©l√©chargement en cours...</h2>
    <p>Si le t√©l√©chargement ne d√©marre pas automatiquement,<br>
       <a id="download-link" href="{{ url_for('download_file', filename=filename) }}">cliquez ici</a>.</p>

    <script>
        // Cr√©e un lien invisible et clique dessus automatiquement pour d√©clencher le t√©l√©chargement
        const lien = "{{ url_for('download_file', filename=filename) }}";

        const a = document.createElement('a');
        a.href = lien;
        a.download = '';
        document.body.appendChild(a);
        a.click();

        // Apr√®s 5 secondes, affiche un message puis redirige vers la page d'accueil
        setTimeout(() => {
            alert('Le t√©l√©chargement est termin√©.');
            window.location.href = '/accueil.html';
        }, 5000);
    </script>
</body>
</html>
